<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Cricket ~ @Cricinsider365</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        height: 100vh;
        overflow: hidden;
        position: relative;
      }

      body::before,
      body::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 50%;
        background: linear-gradient(135deg, #00008B, #0000CD);
        opacity: 0.2;
        animation: waveAnimation 5s ease-in-out infinite;
        z-index: -1;
      }

      body::before {
        top: 0;
      }

      body::after {
        bottom: 0;
      }

      @keyframes waveAnimation {
        0% { transform: translateX(0) scaleY(1); }
        50% { transform: translateX(-50%) scaleY(1.2); }
        100% { transform: translateX(0) scaleY(1); }
      }

      #player {
        width: 80%;
        height: 50vh;
        background-color: #000;
        border: 5px solid #fff;
        border-radius: 10px;
        z-index: 1;
      }

      .join-telegram-btn {
        background-color: #0088cc;
        color: #fff;
        font-size: 16px;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 20px;
      }

      .join-telegram-btn:hover {
        background-color: #006e98;
      }

      .join-telegram-btn a {
        color: #fff;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div id="player"></div>
    <button class="join-telegram-btn">
      <a href="https://t.me/+Pj_QX9oygJNiYmRl" target="_blank">Join Our Telegram Channel</a>
    </button>

    <script src="//ssl.p.jwpcdn.com/player/v/8.25.1/jwplayer.js"></script>
    <script>
      if (confirm("Join Our Telegram Channel @Cricinsider365") == true) {
        window.open("https://t.me/+Pj_QX9oygJNiYmRl", '_blank');
      }

      jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';

      window.onload = function () {
        var playerInstance = jwplayer("player");
        var source = {
          file: "https://d1yws6emo43ny.cloudfront.net/CH5/masterCH5.mpd",
          type: "dash",
          drm: {
            clearkey: {
              keyId: "a8eb0f152c6e429ca7a53f399aadf257",
              key: "c593c2eeea62742285b99e4d87b1c84a"
            }
          },
          default: true,
          onXhrOpen: function (xhr, url) {
            xhr.setRequestHeader('Authorization', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ3bXZlciI6Miwid21pZGZtdCI6ImFzY2lpIiwid21pZHR5cCI6MSwid21rZXl2ZXIiOjEsIndtaWRsZW4iOjUxMiwid21pZCI6IlkyUmpNemxtTkRjdFpHSXdNUzAwT0RnMkxUZzBOakl0TkRBMU1EYzRaRGcwTWpReiIsIndtb3BpZCI6MzIsImV4cCI6MTczNDY1MjA0NSwiaWF0IjoxNzM0MDQ4MDQ1fQ.ewmvAOCyexwkZy2RTV6ZBo4izJBHLr685BEirvPThSM');
          }
        };

        // Player setup
        playerInstance.setup({
          playlist: [{ sources: [source] }],
          width: "100%",
          aspectratio: "16:9",
          stretching: 'uniform',
          autostart: true,
          cast: { appid: 'CC1AD845' }
        });

        // Add PiP button
        playerInstance.addButton(
          "https://cdn-icons-png.flaticon.com/512/1828/1828926.png", // Icon URL
          "Picture-in-Picture", // Tooltip
          function () {
            const videoElement = document.querySelector("video");
            if (videoElement.requestPictureInPicture) {
              videoElement.requestPictureInPicture();
            } else {
              alert("Picture-in-Picture is not supported on this browser.");
            }
          },
          "pip-button" // Unique button ID
        );

        // Add Playback Speed button
        playerInstance.addButton(
          "https://cdn-icons-png.flaticon.com/512/1828/1828925.png", // Icon URL
          "Playback Speed", // Tooltip
          function () {
            const currentRate = playerInstance.getPlaybackRate();
            const rates = [0.5, 1, 1.5, 2];
            const nextRate = rates[(rates.indexOf(currentRate) + 1) % rates.length];
            playerInstance.setPlaybackRate(nextRate);
            alert("Playback Speed: " + nextRate + "x");
          },
          "playback-speed-button" // Unique button ID
        );

        // Listen for fullscreen events
        playerInstance.on('fullscreen', function (event) {
          const player = document.getElementById("player");
          if (event.fullscreen) {
            player.style.width = "100%";
            player.style.height = "100%";
            player.classList.add("fullscreen");
          } else {
            player.style.width = "80%";
            player.style.height = "50vh";
            player.classList.remove("fullscreen");
          }
        });
      };
    </script>
  </body>
</html>