<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TG_@Cricinsider365</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #000000;
            --button-bg: #4CAF50;
            --button-hover-bg: #45a049;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #ffffff;
            --button-bg: #1E88E5;
            --button-hover-bg: #1565C0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        /* Style the container to center-align content */
        #link-container div {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Adjust the logo image size */
        #link-container img {
            width: 350px;
            max-width: 100%;
        }

        /* Button styling */
        .watch-button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 10px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .watch-button:hover {
            background-color: var(--button-hover-bg);
        }

        /* Toggle button styling */
        .theme-toggle {
            margin-bottom: 20px;
            padding: 10px 20px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .theme-toggle:hover {
            background-color: var(--button-hover-bg);
        }
    </style>
<style type="text/css">* {user-select: auto !important; -webkit-user-select: auto !important;}</style><input type="hidden" id="inject_idm_text_selection"></head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">Toggle Dark/Light Mode</button>
    <div id="link-container"><div><img src="https://www.fancode.com/skillup-uploads/cms-media/Bangladesh-tour-of-West-Indies-ODI--old-match-card.png" alt="Logo"><p>group-title="Cricket", West Indies vs Bangladesh (Bangladesh tour of West Indies, 2024)</p><a href="http://Insiderlive.pages.dev/Stream?videoUrl=https%3A%2F%2Fdai.google.com%2Flinear%2Fhls%2Fevent%2FqH6T413WRemL0BlwPzJLow%2Fmaster.m3u8" target="_blank" class="watch-button">Click to Watch</a></div><div><img src="https://www.fancode.com/skillup-uploads/cms-media/114635_4684_ESP-W_GER-W_fc-web.jpg" alt="Logo"><p>group-title="Cricket", Germany Women vs Spain Women (European Cricket Championship-W, 2024)</p><a href="http://Insiderlive.pages.dev/Stream?videoUrl=https%3A%2F%2Fdai.google.com%2Flinear%2Fhls%2Fevent%2FWkHlQzL7TqK1-Kim1KN0GQ%2Fmaster.m3u8" target="_blank" class="watch-button">Click to Watch</a></div><div><img src="https://www.fancode.com/skillup-uploads/cms-media/SB-Memorial-Cup-old-match-card-op-2.png" alt="Logo"><p>group-title="Cricket", Vishal Brothers vs Nirwana (SB Memorial Cup)</p><a href="http://Insiderlive.pages.dev/Stream?videoUrl=https%3A%2F%2Fdai.google.com%2Flinear%2Fhls%2Fevent%2FGSUBkDUjRbm0n4_gKYJUtg%2Fmaster.m3u8" target="_blank" class="watch-button">Click to Watch</a></div><div><img src="https://images.fancode.com/aig/match/v3/115089_CASACARDS_APP.png" alt="Logo"><p>group-title="Volleyball", Trentino Itas vs Shahdab Yazd (Men's Club World Champs 2024)</p><a href="http://Insiderlive.pages.dev/Stream?videoUrl=https%3A%2F%2Fdai.google.com%2Flinear%2Fhls%2Fevent%2FrNFYS68LSb2Ma3ygso4fTA%2Fmaster.m3u8" target="_blank" class="watch-button">Click to Watch</a></div></div>
// Prefix to add before each link
        const linkPrefix = "http://Insiderlive.pages.dev/Stream?videoUrl=";

// Function to get URL parameter by name
    function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    // Function to initialize the video player
    function initializePlayer(videoData) {
        const videoLink = videoData.stream_link;
        document.getElementById('player').style.display = 'none';
        const videoWrapper = document.getElementById('videoWrapper');
        const videoIframe = document.getElementById('videoIframe');

        // If the link is an HLS link
        if (videoLink.includes(".m3u8")) {
            videoIframe.style.display = 'none';
            document.getElementById('player').style.display = '';
            const playerInstance = jwplayer("player").setup({
                title: videoData.match_name,
                description: "VaathalaTV", // Sample description
                image: videoData.banner,
                aspectratio: '16:9',
                width: '100%',
                mute: false,
                key: "cLGMn8T20tGvW+0eXPhq4NNmLB57TrscPjd1IyJF84o=", // Add your key here
                autostart: true,
                skin: {
                    name: "netflix"
                },
                logo: {
                    file: "https://i.postimg.cc/2yNvT7Qk/slazzer-edit-image-1.png",
                    link: "https://telegram.me/vaathala1"
                },
                captions: {
                    color: "#FFF",
                    fontSize: 14,
                    backgroundOpacity: 0,
                    edgeStyle: "raised"
                },
                playlist: [{
                    sources: [{
                        file: videoLink,
                        type: "hls" // Set type to "mpd" for DASH stream
                    }]
                }],
                sharing: {
                    sites: ['facebook', 'twitter']
                }
            });

            // Add custom download button
            const iconPath = ""; // Define your icon path here
            const tooltipText = "Download Video";
            const buttonId = "download-video-button";
            playerInstance.addButton(iconPath, tooltipText, buttonClickAction, buttonId);

            function buttonClickAction() {
                const playlistItem = playerInstance.getPlaylistItem();
                const anchor = document.createElement("a");
                anchor.setAttribute("href", playlistItem.file);
                anchor.setAttribute("download", playlistItem.file.split("/").pop());
                anchor.style.display = "none";
                document.body.appendChild(anchor);
                anchor.click();
                document.body.removeChild(anchor);
            }

            // Forward 10 seconds button
            playerInstance.on("ready", function () {
                const playerContainer = playerInstance.getContainer();
                const rewindContainer = playerContainer.querySelector(".jw-display-icon-rewind");
                const forwardContainer = rewindContainer.cloneNode(true);
                const forwardDisplayButton = forwardContainer.querySelector(".jw-icon-rewind");
                forwardDisplayButton.style.transform = "scaleX(-1)";
                forwardDisplayButton.setAttribute("aria-label", "Forward 10 Seconds");
                const nextContainer = playerContainer.querySelector(".jw-display-icon-next");
                nextContainer.parentNode.insertBefore(forwardContainer, nextContainer);

                // Hide default next button
                playerContainer.querySelector(".jw-display-icon-next").style.display = "none";
// Add onclick handler for forward button
                forwardDisplayButton.onclick = function () {
                    playerInstance.seek(playerInstance.getPosition() + 10);
                };
            });
        }
    }

    // Fetch and load video data from JSON
    const matchId = getUrlParameter('id');
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                const data = JSON.parse(xhr.responseText);
                const videoData = data.matches.find(match => match.match_id == matchId);
                if (videoData) {
                    initializePlayer(videoData);
                } else {
                    console.error('Video data not found for ID: ' + matchId);
                }
            } else {
                console.error('Failed to load video data. Status code: ' + xhr.status);
            }
        }
    };
    xhr.open('GET', 'https://raw.githubusercontent.com/byte-capsule/FanCode-Hls-Fetcher/main/Fancode_hls_m3u8.Json', true);
    xhr.send();