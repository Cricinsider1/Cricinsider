<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@Cricinsider365</title>
  <link rel="stylesheet" href="http://insiderlive.pages.dev/Style.css">
  <style type="text/css">
    * { user-select: auto !important; -webkit-user-select: auto !important; }
  </style>
  <input type="hidden" id="inject_idm_text_selection">
</head>
<body>

<!-- Fullscreen Video CSS -->
<style>
  #player {
    position: absolute;
    width: 100% !important;
    height: 100% !important;
  }
</style>

<!-- Player -->
<div id="player"></div>
<script src="https://cdn.jsdelivr.net/npm/shaka-player@3.0.0/dist/shaka-player.compiled.js"></script>

<script>
  // Video stream configurations (with MPD URLs and DRM keys)
  const videoConfigs = {
    "1": {
      url: "https://example.com/stream1.mpd",  // Example MPD stream URL
      drm: {
        keyId: "4a267ba09b3a43969364ee77f76dd622",  // Key ID for stream 1
        key: "5b00d4341e90b3022b5e57139ae8ab16"   // Key for stream 1
      }
    },
    "2": {
      url: "https://cors-anywhere.ammoapps.com/https://dfwlive-v1-c1p3-sponsored.akamaized.net/Content/HLS.cps/Live/channel(WILLHD-3291.dfw.1080)/index.m3u8",  // Example MPD stream URL
      drm: {
        keyId: "59ed8dc9d4a48857ef8e5865919496cc",  // Key ID for stream 2
        key: "0d3680bd8b349deda8b7fdd1da71b7f8"   // Key for stream 2
      }
    },
    "3": {
      url: "https://example.com/stream3.mpd",  // Example MPD stream URL
      drm: {
        keyId: "5d2b847f7e54b3f0a3f729e4e2de9d88",  // Key ID for stream 3
        key: "2e9bb9a39b7d2c3ba1b0809ee53b06b2"   // Key for stream 3
      }
    },
    "4": {
      url: "https://example.com/stream4.mpd",  // Example MPD stream URL
      drm: {
        keyId: "9b4ab1e7c739ab392089f2b3d26798f9",  // Key ID for stream 4
        key: "52a43c3f2e7d88e129283bf2310b9c9a"   // Key for stream 4
      }
    },
    "5": {
      url: "https://example.com/stream5.mpd",  // Example MPD stream URL
      drm: {
        keyId: "c48f73e8e3a7d1f0ac5575a2f4b7b6e2",  // Key ID for stream 5
        key: "aff37220fbb4e745a287ea0f68e6b0f1"   // Key for stream 5
      }
    }
  };

  // Get the query parameter 'id' from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const streamId = urlParams.get('id');  // Extract 'id' parameter from URL

  // Check if the 'id' parameter exists and is valid
  const videoConfig = videoConfigs[streamId];

  if (videoConfig) {
    // Initialize Shaka Player with the selected stream and DRM configuration
    const player = new shaka.Player(document.getElementById('player'));

    // Configure DRM
    player.configure({
      drm: {
        clearKeys: {
          [videoConfig.drm.keyId]: videoConfig.drm.key // Set the DRM key for the selected stream
        }
      }
    });

    // Load the MPD stream URL
    player.load(videoConfig.url).then(() => {
      console.log("Stream loaded successfully with DRM!");
    }).catch(error => {
      console.error("Error loading the stream:", error);
    });
  } else {
    // If the stream ID is invalid or missing, use the default stream (first one) or display an error
    alert('Invalid or missing stream ID. Please specify a valid "id" in the URL.');
    const defaultConfig = videoConfigs["1"];

    // Initialize Shaka Player with the default stream
    const player = new shaka.Player(document.getElementById('player'));

    // Configure DRM for default stream
    player.configure({
      drm: {
        clearKeys: {
          [defaultConfig.drm.keyId]: defaultConfig.drm.key // Set the DRM key for the default stream
        }
      }
    });

    // Load the default MPD stream URL
    player.load(defaultConfig.url).then(() => {
      console.log("Default stream loaded successfully with DRM!");
    }).catch(error => {
      console.error("Error loading the default stream:", error);
    });
  }

  // Optionally show a confirmation link for Telegram
  if (confirm("Join Our Telegram Channel @Cricinsider365")) {
    window.location.href = "https://t.me/+Pj_QX9oygJNiYmRl";
  }
</script>

</body>
</html>